class Chat{initStatus(){new Swiper(".mySwiper",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,slidesPerView:"auto",spaceBetween:8,autoHeight:!0})}initChats(){const t=this;this.chatContainer=document.querySelector(".chat-conversation-list"),this.simplebar=new SimpleBar(this.chatContainer),this.scrollPosition=0,this.scrollToBottom(!1);const s=document.querySelector("form#chat-form"),a=s.querySelector("input");s.addEventListener("submit",function(s){s.preventDefault();const e=a.value;0<e.trim().length&&(a.value="",t.sendMessage(e))}),this.simplebar.getScrollElement()&&(this.simplebar.getScrollElement().onscroll=function(s){t.scrollPosition=s.target.scrollTop})}sendMessage(s){const e=this;s=this.toNodes(this.createHTMLMessageFromMe(s));this.simplebar.getContentElement()&&(this.simplebar.getContentElement().appendChild(s),this.simplebar.recalculate(),this.scrollToBottom(),setTimeout(function(){e.receiveMessage("Server is not connected ðŸ˜”")},1e3))}receiveMessage(s){s=this.toNodes(this.createHTMLMessageFromOther(s));this.simplebar.getContentElement().appendChild(s),this.simplebar.recalculate(),this.scrollToBottom()}createHTMLMessageFromMe(s){const e=new Date;return'<li class="clearfix odd">\n    <div class="chat-conversation-text ms-0">\n        <div class="d-flex justify-content-end">\n            <div class="chat-conversation-actions dropdown dropstart">\n                <a href="javascript: void(0);" class="pe-1" data-bs-toggle="dropdown" aria-expanded="false"><i class=\'ri-more-2-fill fs-18\'></i></a>\n                <div class="dropdown-menu">\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share fs-18 me-2"></i>Reply\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share-alt fs-18 me-2"></i>Forward\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-copy fs-18 me-2"></i>Copy\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-bookmark fs-18 me-2"></i>Bookmark\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-star fs-18 me-2"></i>Starred\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-info-square fs-18 me-2"></i>Mark as Unread\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-trash fs-18 me-2"></i>Delete\n                    </a>\n                </div>\n            </div>\n            <div class="chat-ctext-wrap">\n                <p>'+s+'</p>\n            </div>\n        </div>\n        <p class="text-muted fs-12 mb-0 mt-1">'+(e.getHours()+":"+e.getMinutes()+" "+(11<e.getHours()?"pm":"am"))+'<i class="bx bx-check-double ms-1 text-primary"></i></p>\n    </div>\n</li>\n'}createHTMLMessageFromOther(s){const e=new Date;return'<li class="clearfix">\n    <div class="chat-conversation-text">\n        <div class="d-flex">\n            <div class="chat-ctext-wrap">\n                <p>'+s+'</p>\n            </div>\n            <div class="chat-conversation-actions dropdown dropend">\n                <a href="javascript: void(0);" class="ps-1" data-bs-toggle="dropdown" aria-expanded="false"><i class=\'ri-more-2-fill fs-18\'></i></a>\n                <div class="dropdown-menu">\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share fs-18 me-2"></i>Reply\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-share-alt fs-18 me-2"></i>Forward\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-copy fs-18 me-2"></i>Copy\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-bookmark fs-18 me-2"></i>Bookmark\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-star fs-18 me-2"></i>Starred\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-info-square fs-18 me-2"></i>Mark as Unread\n                    </a>\n                    <a class="dropdown-item" href="javascript: void(0);">\n                        <i class="bx bx-trash fs-18 me-2"></i>Delete\n                    </a>\n                </div>\n            </div>\n        </div>\n        <p class="text-muted fs-12 mb-0 mt-1 ms-2">'+(e.getHours()+":"+e.getMinutes()+" "+(11<e.getHours()?"pm":"am"))+"</p>\n    </div>\n</li>"}toNodes(s){return(new DOMParser).parseFromString(s,"text/html").body.childNodes[0]}scrollToBottom(s=!0){const e=this;if(this.simplebar.getContentElement()){const t=this.simplebar.getContentElement().scrollHeight-570;const a=setInterval(function(){e.scrollPosition+=2,e.simplebar.getScrollElement().scrollTop=e.scrollPosition,e.scrollPosition>t&&clearInterval(a)},s?10:1)}}init(){this.initStatus(),this.initChats()}}document.addEventListener("DOMContentLoaded",function(s){(new Chat).init()});